## 1 はじめに

### 1.1 Seed7 について

Seed7 は汎用プログラミング言語です。Ada、C++、Javaと比較して高レベルの言語です。 Seed7 では、新しいステートメントと演算子を簡単に定義できます。型の結果と型パラメータを持つ関数は、通常のテンプレートやジェネリックの概念よりも洗練されています。オブジェクト指向は、他のソリューションがより明白な場所ではなく、利点をもたらす場合に使用されます。 Seed7 には他のプログラミング言語のいくつかの概念が含まれていますが、一般に他のプログラミング言語の直接の子孫とは見なされません。

プログラマーは、管理やパラダイムの実現ではなく、問題解決に集中する必要があります。そのため、 Seed7 では、すべてを小さな構文的または意味的な概念に曲げるのではなく、「問題空間」でのプログラミングが可能になります。 Seed7 の事前定義された構成要素は、読みやすく理解しやすい方法で定義されています。この実用的なアプローチは、次のように要約できます。

| ------------------------------------------------------------------------ |
| **プログラミングは楽しくなければならない** |

Seed7 プログラムは、インタプリタまたはコンパイルが可能です。したがって、 Seed7 はスクリプト作成および「実際の」プログラムに使用できます。

### 1.2 なぜ新しいプログラミング言語なのか？

従来のプログラミング言語には、構文構造がしっかりと与えられています。ステートメント、演算子、宣言、プロシージャ、関数の形式は言語定義で固定されており、ユーザは変更できません。新しいプロシージャ、関数、および一部の言語では新しい演算子も宣言できますが、プロシージャ、関数、および演算子呼び出しの構文は変更できません。この厳密なパターンはプログラムの移植性に有利であるが、プログラミング言語の改善はほとんど不可能である。しかし、既存の弱点を修復し、より明白な新しい構成体を導入し、プログラミング言語を異なる応用分野に適応させるためには、拡張が望ましい。例えば、数学の分野では、行列演算子とベクトル演算子を導入することで、プログラムの読みやすさを大幅に向上させることができます。ベクトルの内積と外積を宣言した後、次のように書くことができます。

``` pascal
v1: = v2 cross v3;   write(v1 * v2);
```

for ステートメントを使用してテーブルをループすることで、データベース内のデータを検索するプログラムがより理解しやすくなります。このような for ステートメントの使用方法は次のとおりです。

``` pascal
for person1, person2
where person1.age = person2.age and
     person1.mother = person2.mother and
     person1 <> person2 do
   writeln("Twins: " <& person1.name <& " and " <& person2.name);
end for;
```

このような拡張により、ブログラムの理解、変更は容易になります。

### 1.3 Seed 7の特徴

Seed7 は、以下の特徴を有する

 * ユーザ定義の文と演算子。
 * 型はファーストクラスのオブジェクトであるため、テンプレートとジェネリックは特別な構文なしで簡単に定義できる。
 * 配列や for ループなどの事前定義された構造は、言語自体で定義されます。
 * [オブジェクト指向]()はインターフェイスに基づいており、複数のディスパッチをサポートし、メソッドをオブジェクトに接続することができる。
 * [静的型チェック]()であり、[自動キャスト]()ではありません。
 * 例外処理がある
 * [配列インデックス]()と[整数オーバーフロー]()のチェックがあります。
 * プロシージャ/関数/演算子/文の[オーバーロード]()
 * サイズ変更可能な[配列]()、[ハッシュ]()、[ビットセット]()、[構造体]()など、さまざまな事前定義された型。

しかし、新しいプログラミング言語は、新しい機能によって既存のものと異なるだけではありません。本当の利点は、時代遅れの機能を省略することにあります。

他の言語で使用されているいくつかの概念が存在しない

 * NULLはありません。
 * goto 文はありません。 break 文や continue 文のような隠された goto も省略されます。
 * return 文はありません。代わりに、関数の結果を割り当てることができる結果変数を定義できます。
 * [自動的な型変換]()はありません。サブプログラムを異なる型に使用する場合は、オーバーロードする必要があります。
 * C のswitch文のような制御フローの暗黙的なフォールスルーはありません。
 * [未定義の動作]()はありません。
 * 手動による[メモリ管理]()はありません。
 * コンパイラがプログラマの心を読み取ろうとする[「私の言いたいことをする」]()ヒューリスティックはありません。
 * デフォルトで存在すべき言語機能に対応するプリプロセッサはありません。
 * [可変長のパラメータリスト]()はありません。代わりに、配列をパラメータとして使用できます。
 * デフォルトのパラメータはありませんが、2つのサブプログラムを定義するのは簡単です。1つは追加のパラメータを持つもの、もう1つは持たないものです。
 * 「self」や「this」と呼ばれる特別な「パラメータ」はありません。プロシージャでは、受信オブジェクトはユーザ定義の名前を持つ正式なパラメータとして定義されます。
 * このメカニズムはサブプログラム機能に非常に似ているため、マクロ機能はありません。代わりに、サブプログラムは他の言語よりも柔軟な方法で使用できます。
 * [予約語]()はありません。
 * 関数、演算子、プロシージャ、文に概念上の違いはありません。
 * プロシージャ・コール・メカニズムは、オブジェクトとメッセージのペア(オブジェクトがメッセージを受信する)という概念に基づいていません。かわりに、オブジェクトのリストに対して照合が行われます。このより一般的な(そして強力な)メカニズムは、複数ディスパッチと呼ばれ、特殊なケースとして単純なオブジェクト・メッセージ・メカニズムが含まれます。

他の言語でも使用される概念がいくつかあります。

 * ブロックコメントは (\*で始まり、\*) で終わり、ネストすることができます。
 * 行コメントは # で始まり、行末で終わります。

新しい概念がいくつかあります。

 * 変数と定数は、定義時に初期化する必要があります。
 * 全ての式はただ1つの型を持ちます。これは、オーバーロードされた関数は、その呼び出しのコンテキストではなく、実際のパラメータで解決されることを意味します(これはADAで使用されるオーバーロードの仕組みとは異なります)。
 * 構文宣言を使用すると、新しい演算子とステートメントを定義できます。
 * 定義済みの演算子シンボルをオーバーロードできるだけでなく、まったく新しい演算子シンボルを作成することもできます。

他の言語のいくつかの制限が解除されました。

 * 識別子の長さに制限はなく、識別子のすべての文字が有効です。
 * ステートメントと括弧は、深さの制限なしにネストできます。
 * パラメータとローカル変数の数に制限はありません。
 * [文字列]()には任意の文字 (NUL 文字も含む) を含めることができます。これにより、文字列にバイナリ情報を保持できます。
 * 文字列はNUL終端されていませんが、サイズ制限はありません(メモリがない場合を除く)。
 * [文字列]()リテラルには任意の長さを指定できます。
 * ソース線の長さに制限はない。
 * インクルードのネストにレベルの制限はありません。

### 1.4 取扱説明書の読み方

Seed7 プログラミング言語には複数のビューを設定できます。ビューに応じて、特定の章に集中できます。

たとえば、 Seed7 は従来のプログラミング言語として使用できます。この場合、ステートメントの外観、使用可能な型、定義済みの演算子、変数やプロシージャの宣言方法などが重要になります。ステートメントと定義済みの型については、[第4章(事前定義されたステートメント)]()および第[5章(事前定義された型)]()を参照してください。また、宣言のメカニズムについては、[第3章(宣言)]()を参照してください。

しかし、 Seed7 はオブジェクト指向プログラミング言語でもあります。この場合、新しいクラスの定義方法、インスタンスの生成方法、メソッド呼び出しメカニズム、定義済みのクラス階層などに関心があります。Seed7のオブジェクト指向については、[第7章(オブジェクト指向)]()で説明します。クラスとインスタンスの良い例は、[第8章(ファイルシステム)]()で説明するファイルシステムです。

また、 Seed7 も拡張可能なプログラミング言語です。この場合、新しいステートメントの宣言方法、新しい演算子の定義方法、演算子への優先順位と結合性の割り当てなどに関心があります。構文宣言の概要については、第3.2章(構文宣言)を参照してください。 Seed7 の構文定義の詳細については、[第9章(構造化構文定義)]()を参照してください。[第4章(事前定義済ステートメント)]()には、構文および意味宣言の様々な例が含まれています。構文の基本的な部分については、[第10章(トークン)]()および[第11章(式)]()を参照してください。
